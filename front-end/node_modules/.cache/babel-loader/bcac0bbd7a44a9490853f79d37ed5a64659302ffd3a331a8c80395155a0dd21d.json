{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nam_4\\\\Do-an-tot-nghiep\\\\AIChat\\\\front-end\\\\src\\\\components\\\\Conversation.tsx\",\n  _s = $RefreshSig$();\nimport { Box } from \"@chakra-ui/react\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useConversation } from \"./useConversation\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\nimport Flex from \"./Flex/Flex\";\nimport { CircularProgress, makeStyles } from \"@material-ui/core\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport VolumeUpSharpIcon from \"@material-ui/icons/VolumeUpSharp\";\nimport CallIcon from \"@material-ui/icons/Call\";\nimport clsx from 'clsx';\nimport avatar from '../assets/images/avatar.png';\nimport { useLocation } from \"react-router-dom\";\nimport { verifyTokenToCall } from \"service/api/api\";\nimport ModalNotification from \"./Modal/ModalNotification\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\"\n  },\n  container: {\n    width: 400,\n    height: 700,\n    margin: \"0 auto\",\n    border: \"1px solid\"\n  },\n  avatar: {\n    height: \"40%\"\n  },\n  img: {\n    height: \"100%\",\n    width: \"100%\"\n  },\n  name: {\n    marginTop: 20\n  },\n  time: {\n    marginTop: 20,\n    height: 10\n  },\n  iconCall: {\n    height: \"35%\",\n    paddingBottom: \"60px\",\n    justifyContent: \"center\",\n    alignItems: \"self-end\"\n  },\n  startCall: {\n    backgroundColor: \"limegreen\",\n    border: \"1px solid limegreen\",\n    \"&:hover\": {\n      opacity: \"0.9\"\n    }\n  },\n  endCall: {\n    backgroundColor: \"red\",\n    border: \"1px solid red\",\n    \"&:hover\": {\n      opacity: \"0.9\"\n    }\n  },\n  icon: {\n    height: 50,\n    width: 50,\n    margin: \"0 auto\",\n    alignItems: \"center\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      opacity: \"0.7\"\n    }\n  },\n  wrapperLoading: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  pageTokenExpired: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n}));\nconst Conversation = () => {\n  _s();\n  const classes = useStyles();\n  const location = useLocation();\n  const [hours, setHours] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n  const intervalRef = useRef(null);\n  const [isCall, setIscall] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [hasExpired, setHasExpired] = useState(false);\n  const urlParams = new URLSearchParams(window.location.search);\n  const token = urlParams.get(\"token\");\n  console.log(\"urlParams\", urlParams);\n  console.log(\"token\", token);\n  console.log(\"hasExpired\", hasExpired);\n  useEffect(() => {\n    if (token) {\n      (async () => {\n        setLoading(true);\n        await verifyTokenToCall(token).then(() => setHasExpired(false)).catch(() => setHasExpired(true)).finally(() => setLoading(false));\n      })();\n    }\n  }, [token]);\n  const {\n    status,\n    start,\n    stop,\n    analyserNode\n  } = useConversation({\n    backendUrl: process.env.REACT_APP_BASE_URL,\n    audioDeviceConfig: {}\n  });\n  useEffect(() => {\n    if (status === \"error\" || status === \"idle\") {\n      handleStop();\n      setIscall(false);\n    }\n  }, [status]);\n\n  //handle call time\n  const handleStart = () => {\n    intervalRef.current = setInterval(() => {\n      setSeconds(seconds => {\n        if (seconds === 59) {\n          setMinutes(minutes => {\n            if (minutes === 59) {\n              setHours(hours => hours + 1);\n              return 0;\n            }\n            return minutes + 1;\n          });\n          return 0;\n        }\n        return seconds + 1;\n      });\n    }, 1000);\n  };\n  const handleStop = () => {\n    clearInterval(intervalRef.current);\n    setSeconds(0);\n    setMinutes(0);\n    setHours(0);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapperLoading,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: avatar,\n          alt: \"avatar\",\n          className: classes.img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.time,\n        children: isCall && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [hours.toString().padStart(2, \"0\"), \":\", minutes.toString().padStart(2, \"0\"), \":\", seconds.toString().padStart(2, \"0\")]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        className: classes.iconCall,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(classes.icon),\n          style: {\n            border: \"1px solid gray\"\n          },\n          children: /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(classes.icon),\n          style: {\n            border: \"1px solid gray\"\n          },\n          children: /*#__PURE__*/_jsxDEV(VideocamIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(classes.icon),\n          style: {\n            border: \"1px solid gray\"\n          },\n          children: /*#__PURE__*/_jsxDEV(VolumeUpSharpIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: !isCall ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(classes.icon, classes.startCall),\n          onClick: () => {\n            setIscall(true);\n            handleStart();\n            start();\n          },\n          children: /*#__PURE__*/_jsxDEV(CallIcon, {\n            style: {\n              cursor: \"pointer\",\n              width: \"30px\",\n              height: \"30px\",\n              color: \"white\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(classes.icon, classes.endCall),\n          onClick: () => {\n            setIscall(false);\n            handleStop();\n            stop();\n          },\n          children: /*#__PURE__*/_jsxDEV(CallEndIcon, {\n            style: {\n              cursor: \"pointer\",\n              width: \"30px\",\n              height: \"30px\",\n              color: \"white\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalNotification, {\n      open: hasExpired,\n      alertType: \"error\",\n      alertTitle: \"Error\",\n      messageNotification: \"This call has expired\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Conversation, \"01GlR3TN/+bp+Hs5qCGb1GkwEr0=\", false, function () {\n  return [useStyles, useLocation, useConversation];\n});\n_c = Conversation;\nexport default Conversation;\nvar _c;\n$RefreshReg$(_c, \"Conversation\");","map":{"version":3,"names":["Box","React","useEffect","useRef","useState","useConversation","CallEndIcon","Flex","CircularProgress","makeStyles","MicIcon","VideocamIcon","VolumeUpSharpIcon","CallIcon","clsx","avatar","useLocation","verifyTokenToCall","ModalNotification","useStyles","theme","root","flex","display","alignItems","justifyContent","height","container","width","margin","border","img","name","marginTop","time","iconCall","paddingBottom","startCall","backgroundColor","opacity","endCall","icon","borderRadius","cursor","wrapperLoading","minHeight","pageTokenExpired","Conversation","classes","location","hours","setHours","minutes","setMinutes","seconds","setSeconds","intervalRef","isCall","setIscall","loading","setLoading","hasExpired","setHasExpired","urlParams","URLSearchParams","window","search","token","get","console","log","then","catch","finally","status","start","stop","analyserNode","backendUrl","process","env","REACT_APP_BASE_URL","audioDeviceConfig","handleStop","handleStart","current","setInterval","clearInterval","toString","padStart","color"],"sources":["D:/Nam_4/Do-an-tot-nghiep/AIChat/front-end/src/components/Conversation.tsx"],"sourcesContent":["import { Box, Button, HStack, Select, Spinner } from \"@chakra-ui/react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { AudioDeviceConfig, ConversationConfig } from \"vocode\";\r\nimport MicrophoneIcon from \"./MicrophoneIcon\";\r\nimport AudioVisualization from \"./AudioVisualization\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { useConversation } from \"./useConversation\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport Flex from \"./Flex/Flex\";\r\nimport { CircularProgress, Typography, makeStyles } from \"@material-ui/core\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VolumeUpSharpIcon from \"@material-ui/icons/VolumeUpSharp\";\r\nimport CallIcon from \"@material-ui/icons/Call\";\r\nimport clsx from 'clsx'\r\nimport avatar from'../assets/images/avatar.png'\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { aiAgents } from \"pages/AllCharacters\";\r\nimport { verifyTokenToCall } from \"service/api/api\";\r\nimport ModalNotification from \"./Modal/ModalNotification\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n  },\r\n  container: {\r\n    width: 400,\r\n    height: 700,\r\n    margin: \"0 auto\",\r\n    border: \"1px solid\",\r\n  },\r\n  avatar: {\r\n    height: \"40%\",\r\n  },\r\n  img: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n  name: {\r\n    marginTop: 20,\r\n  },\r\n  time: {\r\n    marginTop: 20,\r\n    height: 10,\r\n  },\r\n  iconCall: {\r\n    height: \"35%\",\r\n    paddingBottom: \"60px\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"self-end\",\r\n  },\r\n  startCall: {\r\n    backgroundColor: \"limegreen\",\r\n    border: \"1px solid limegreen\",\r\n    \"&:hover\": {\r\n      opacity: \"0.9\",\r\n    },\r\n  },\r\n  endCall: {\r\n    backgroundColor: \"red\",\r\n    border: \"1px solid red\",\r\n    \"&:hover\": {\r\n      opacity: \"0.9\",\r\n    },\r\n  },\r\n  icon: {\r\n    height: 50,\r\n    width: 50,\r\n    margin: \"0 auto\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    borderRadius: \"50%\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      opacity: \"0.7\",\r\n    },\r\n  },\r\n  wrapperLoading: {\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  pageTokenExpired: {\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst Conversation = () => {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const [hours, setHours] = useState(0);\r\n  const [minutes, setMinutes] = useState(0);\r\n  const [seconds, setSeconds] = useState(0);\r\n  const intervalRef = useRef<any>(null);\r\n  const [isCall, setIscall] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasExpired, setHasExpired] = useState(false);\r\n\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const token = urlParams.get(\"token\");\r\n  console.log(\"urlParams\", urlParams);\r\n  console.log(\"token\", token);\r\n  console.log(\"hasExpired\", hasExpired);\r\n\r\n  useEffect(() => {\r\n\r\n    if (token) {\r\n        (async () => {\r\n          setLoading(true)\r\n          await verifyTokenToCall(token)\r\n          .then(() => setHasExpired(false))\r\n          .catch(() => setHasExpired(true))\r\n          .finally(() => setLoading(false));\r\n        })();\r\n    }\r\n  }, [token]);\r\n  \r\n  const { status, start, stop, analyserNode } = useConversation({\r\n    backendUrl: process.env.REACT_APP_BASE_URL as string,\r\n    audioDeviceConfig: {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (status === \"error\" || status === \"idle\") {\r\n      handleStop();\r\n      setIscall(false);\r\n    }\r\n  }, [status]);\r\n\r\n  //handle call time\r\n  const handleStart = () => {\r\n    intervalRef.current = setInterval(() => {\r\n      setSeconds((seconds) => {\r\n        if (seconds === 59) {\r\n          setMinutes((minutes) => {\r\n            if (minutes === 59) {\r\n              setHours((hours) => hours + 1);\r\n              return 0;\r\n            }\r\n            return minutes + 1;\r\n          });\r\n          return 0;\r\n        }\r\n        return seconds + 1;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const handleStop = () => {\r\n    clearInterval(intervalRef.current);\r\n    setSeconds(0);\r\n    setMinutes(0)\r\n    setHours(0)\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className={classes.wrapperLoading}>\r\n          <CircularProgress />\r\n        </div>\r\n      ) : (\r\n        <Box className={classes.container}>\r\n          <Box className={classes.avatar}>\r\n            <img src={avatar} alt=\"avatar\" className={classes.img} />\r\n          </Box>\r\n          {/* <Box className={classes.name}>{nameAgent}</Box> */}\r\n          <Box className={classes.time}>\r\n            {isCall && (\r\n              <>\r\n                {hours.toString().padStart(2, \"0\")}:\r\n                {minutes.toString().padStart(2, \"0\")}:\r\n                {seconds.toString().padStart(2, \"0\")}\r\n              </>\r\n            )}\r\n          </Box>\r\n          <Flex className={classes.iconCall}>\r\n            <div\r\n              className={clsx(classes.icon)}\r\n              style={{ border: \"1px solid gray\" }}\r\n            >\r\n              <MicIcon />\r\n            </div>\r\n            {/* <MicOffIcon /> */}\r\n            <div\r\n              className={clsx(classes.icon)}\r\n              style={{ border: \"1px solid gray\" }}\r\n            >\r\n              <VideocamIcon />\r\n            </div>\r\n            <div\r\n              className={clsx(classes.icon)}\r\n              style={{ border: \"1px solid gray\" }}\r\n            >\r\n              <VolumeUpSharpIcon />\r\n            </div>\r\n          </Flex>\r\n          <Box>\r\n            {!isCall ? (\r\n              <div\r\n                className={clsx(classes.icon, classes.startCall)}\r\n                onClick={() => {\r\n                  setIscall(true);\r\n                  handleStart();\r\n                  start();\r\n                }}\r\n              >\r\n                <CallIcon\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                    width: \"30px\",\r\n                    height: \"30px\",\r\n                    color: \"white\",\r\n                  }}\r\n                />\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className={clsx(classes.icon, classes.endCall)}\r\n                onClick={() => {\r\n                  setIscall(false);\r\n                  handleStop();\r\n                  stop();\r\n                }}\r\n              >\r\n                <CallEndIcon\r\n                  style={{\r\n                    cursor: \"pointer\",\r\n                    width: \"30px\",\r\n                    height: \"30px\",\r\n                    color: \"white\",\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n      )}\r\n      <ModalNotification\r\n        open={hasExpired}\r\n        alertType=\"error\"\r\n        alertTitle=\"Error\"\r\n        messageNotification=\"This call has expired\"\r\n      />\r\n      {/* {analyserNode && <AudioVisualization analyser={analyserNode} />} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}